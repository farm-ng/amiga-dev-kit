"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6353],{814:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>n,metadata:()=>i,toc:()=>m});var o=a(7462),s=(a(7294),a(3905));a(1839);const n={id:"motor-state",title:"Motor State"},r="Amiga Motor State Stream Example",i={unversionedId:"examples/motor_state/motor-state",id:"examples/motor_state/motor-state",title:"Motor State",description:"Currently this is a very basic example",source:"@site/docs/examples/motor_state/README.md",sourceDirName:"examples/motor_state",slug:"/examples/motor_state/",permalink:"/docs/examples/motor_state/",draft:!1,editUrl:"https://github.com/farm-ng/amiga-dev-kit/tree/main/website/docs/examples/motor_state/README.md",tags:[],version:"current",frontMatter:{id:"motor-state",title:"Motor State"},sidebar:"examples",previous:{title:"Camera Aruco Detector",permalink:"/docs/examples/camera_aruco_detector/"},next:{title:"Vehicle Twist",permalink:"/docs/examples/vehicle_twist/"}},l={},m=[{value:"Setup",id:"setup",level:2},{value:"Install",id:"install",level:2},{value:"Run example",id:"run-example",level:2},{value:"Expected output",id:"expected-output",level:2}],p={toc:m};function u(e){let{components:t,...a}=e;return(0,s.kt)("wrapper",(0,o.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"amiga-motor-state-stream-example"},"Amiga Motor State Stream Example"),(0,s.kt)("p",null,"Currently this is a very basic ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/farm-ng/farm-ng-amiga/blob/main-v2/py/examples/motor_states_stream/main.py"},"example"),"\nshowing how to access and decode the\n",(0,s.kt)("inlineCode",{parentName:"p"},"MotorState")," values streamed by the canbus service."),(0,s.kt)("admonition",{type:"info"},(0,s.kt)("p",{parentName:"admonition"},"There will be no ",(0,s.kt)("inlineCode",{parentName:"p"},"/motor_states")," stream if your amiga is e-stopped by a physical e-stop press.\nThe e-stop cuts the power to the motors, so they do not send their state on the CAN bus.")),(0,s.kt)("h2",{id:"setup"},"Setup"),(0,s.kt)("p",null,"Create first a virtual environment"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"cd farm-ng-amiga\npython3 -m venv venv\nsource venv/bin/activate\n")),(0,s.kt)("h2",{id:"install"},"Install"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"cd py/examples/motor_states_stream\npip install -r requirements.txt\n")),(0,s.kt)("h2",{id:"run-example"},"Run example"),(0,s.kt)("p",null,"Specify the ",(0,s.kt)("inlineCode",{parentName:"p"},"host")," field with the IP address of your amiga\nin the ",(0,s.kt)("inlineCode",{parentName:"p"},"service_config.json")," file.\nAs a debugging step, ensure you can ping the amiga at that IP address."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"python main.py --service-config service_config.json\n")),(0,s.kt)("h2",{id:"expected-output"},"Expected output"),(0,s.kt)("p",null,"You should see a printed stream of the current ",(0,s.kt)("inlineCode",{parentName:"p"},"MotorState")," for all detected motors in your terminal."))}u.isMDXComponent=!0}}]);