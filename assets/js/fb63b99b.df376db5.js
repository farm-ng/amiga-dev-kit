"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3943],{8432:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var n=a(7462),i=(a(7294),a(3905));a(1839);const r={id:"kivy-definition",title:"02 - Kivy Definition"},o="Kivy Definition",l={unversionedId:"tutorials/camera_streamer/kivy-definition",id:"tutorials/camera_streamer/kivy-definition",title:"02 - Kivy Definition",description:"In the src/res/main.kv",source:"@site/docs/tutorials/camera_streamer/02_kivy_definition.md",sourceDirName:"tutorials/camera_streamer",slug:"/tutorials/camera_streamer/kivy-definition",permalink:"/docs/tutorials/camera_streamer/kivy-definition",draft:!1,editUrl:"https://github.com/farm-ng/amiga-dev-kit/tree/main/website/docs/tutorials/camera_streamer/02_kivy_definition.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"kivy-definition",title:"02 - Kivy Definition"},sidebar:"examples",previous:{title:"01 - Template Starter",permalink:"/docs/tutorials/camera_streamer/template-starter"},next:{title:"03 - Python Implementation",permalink:"/docs/tutorials/camera_streamer/camera-stream"}},p={},s=[{value:"Starting with the template",id:"starting-with-the-template",level:2},{value:"TabbedPanel of Image widgets",id:"tabbedpanel-of-image-widgets",level:2}],m={toc:s};function d(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"kivy-definition"},"Kivy Definition"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"In the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/farm-ng/camera-streamer/blob/main/src/res/main.kv"},(0,i.kt)("strong",{parentName:"a"},(0,i.kt)("inlineCode",{parentName:"strong"},"src/res/main.kv"))),"\nfile of the\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/farm-ng/camera-streamer"},(0,i.kt)("strong",{parentName:"a"},"camera-streamer")),"\napp we define the kivy app.\nYou should open that file for reference as you follow along.")),(0,i.kt)("p",null,"Our app will have two components:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"A ",(0,i.kt)("a",{parentName:"li",href:"https://kivy.org/doc/stable/api-kivy.uix.tabbedpanel.html"},(0,i.kt)("strong",{parentName:"a"},(0,i.kt)("inlineCode",{parentName:"strong"},"TabbedPanel")))," of\n",(0,i.kt)("a",{parentName:"li",href:"https://kivy.org/doc/stable/api-kivy.uix.image.html"},(0,i.kt)("strong",{parentName:"a"},(0,i.kt)("inlineCode",{parentName:"strong"},"Image"))),"\nwidgets for displaying the camera streams"),(0,i.kt)("li",{parentName:"ol"},"A ",(0,i.kt)("a",{parentName:"li",href:"https://kivy.org/doc/stable/api-kivy.uix.button.html"},(0,i.kt)("strong",{parentName:"a"},(0,i.kt)("inlineCode",{parentName:"strong"},"Button"))),"\nfor exiting the app")),(0,i.kt)("h2",{id:"starting-with-the-template"},"Starting with the template"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/farm-ng/amiga-app-template/blob/main/src/res/main.kv"},(0,i.kt)("strong",{parentName:"a"},(0,i.kt)("inlineCode",{parentName:"strong"},"src/res/main.kv"))),"\nfile of the\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/farm-ng/amiga-app-template"},(0,i.kt)("strong",{parentName:"a"},"amiga-app-template")),"\ndefines a root of a ",(0,i.kt)("inlineCode",{parentName:"p"},"RelativeLayout"),", with a\n",(0,i.kt)("inlineCode",{parentName:"p"},"Button"),", and a ",(0,i.kt)("inlineCode",{parentName:"p"},"Label"),",\nas explained in ",(0,i.kt)("a",{parentName:"p",href:"/docs/tutorials/introduction/template-overview#kivy-app-definition"},(0,i.kt)("strong",{parentName:"a"},"kivy app definition")),"."),(0,i.kt)("p",null,"We will keep the ",(0,i.kt)("inlineCode",{parentName:"p"},"RelativeLayout")," root and the ",(0,i.kt)("inlineCode",{parentName:"p"},"Button")," for\nexiting the app, but remove the ",(0,i.kt)("inlineCode",{parentName:"p"},"Label")," widget.\nInstead, we will add a ",(0,i.kt)("inlineCode",{parentName:"p"},"TabbedPanel")," for displaying the image\nstreams from our Oak device."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"RelativeLayout")," allows for overlapping widgets,\nwhich is nice as we can allow the image streams to take up the\nfull size of our window with the button drawn on top.\nNotice we draw the ",(0,i.kt)("inlineCode",{parentName:"p"},"Button")," after the ",(0,i.kt)("inlineCode",{parentName:"p"},"TabbedPannel")," so it is\nvisible and usable."),(0,i.kt)("h2",{id:"tabbedpanel-of-image-widgets"},"TabbedPanel of Image widgets"),(0,i.kt)("p",null,"To conveniently package the 4 image streams from the oak camera\nin the kivy ",(0,i.kt)("inlineCode",{parentName:"p"},"Window"),", we will add the ",(0,i.kt)("inlineCode",{parentName:"p"},"Image")," widgets as a\n",(0,i.kt)("inlineCode",{parentName:"p"},"TabbedPanel"),".\nThe ",(0,i.kt)("inlineCode",{parentName:"p"},"TabbedPanel")," is used to select between different pages,\nwhich in our case is 4 ",(0,i.kt)("inlineCode",{parentName:"p"},"Image")," Widgets."),(0,i.kt)("p",null,"For the ",(0,i.kt)("inlineCode",{parentName:"p"},"TabbedPanel"),", we do not need a ",(0,i.kt)("inlineCode",{parentName:"p"},"default_tab")," and we\nassign the ",(0,i.kt)("inlineCode",{parentName:"p"},"text")," each tab will display."),(0,i.kt)("p",null,"We assign each ",(0,i.kt)("inlineCode",{parentName:"p"},"Image")," widget an ",(0,i.kt)("inlineCode",{parentName:"p"},"id")," so it can be easily\nreferenced in the Python ",(0,i.kt)("inlineCode",{parentName:"p"},"App"),".\nThis will allow us to set the correct image stream to the correct\ntab, so the ",(0,i.kt)("inlineCode",{parentName:"p"},"rgb")," image stream is shown on the ",(0,i.kt)("inlineCode",{parentName:"p"},"rgb")," panel and\nthe ",(0,i.kt)("inlineCode",{parentName:"p"},"left")," stereo camera stream is displayed on the ",(0,i.kt)("inlineCode",{parentName:"p"},"left")," tab."),(0,i.kt)("p",null,"In the Python app, we can access a ",(0,i.kt)("inlineCode",{parentName:"p"},"Widget")," directly using the\nwidget ",(0,i.kt)("inlineCode",{parentName:"p"},"id")," in two ways:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Python"},"# As a dictionary\nFOO_WIDGET = self.root.ids['FOO_WIDGET_ID']\n# As an attribute\nFOO_WIDGET = self.root.ids.FOO_WIDGET_ID\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Reference: ",(0,i.kt)("a",{parentName:"li",href:"https://kivy.org/doc/stable/api-kivy.uix.tabbedpanel.html"},(0,i.kt)("strong",{parentName:"a"},"TabbedPanel"))),(0,i.kt)("li",{parentName:"ul"},"Reference: ",(0,i.kt)("a",{parentName:"li",href:"https://kivy.org/doc/stable/api-kivy.uix.image.html"},(0,i.kt)("strong",{parentName:"a"},"Image")))))}d.isMDXComponent=!0}}]);