"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9945],{7009:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>p,toc:()=>l});var a=n(7462),o=(n(7294),n(3905));n(1839);const r={id:"brain-apps",title:"Developing Custom Applications"},i="Developing Custom Applications",p={unversionedId:"brain/brain-apps",id:"brain/brain-apps",title:"Developing Custom Applications",description:"Create an app",source:"@site/docs/brain/custom-applications.mdx",sourceDirName:"brain",slug:"/brain/brain-apps",permalink:"/docs/brain/brain-apps",draft:!1,editUrl:"https://github.com/farm-ng/amiga-dev-kit/tree/main/website/docs/brain/custom-applications.mdx",tags:[],version:"current",frontMatter:{id:"brain-apps",title:"Developing Custom Applications"},sidebar:"examples",previous:{title:"Monitor App",permalink:"/docs/examples/monitor_app/"},next:{title:"Amiga ROS Bridge",permalink:"/docs/brain/ros-bridge"}},s={},l=[{value:"Create an app",id:"create-an-app",level:3},{value:"Create a repository from the template",id:"create-a-repository-from-the-template",level:4},{value:"Project structure",id:"project-structure",level:2},{value:"Understand the structure of an app",id:"understand-the-structure-of-an-app",level:3},{value:"Backend:",id:"backend",level:4},{value:"Frontend:",id:"frontend",level:4},{value:"Repository structure",id:"repository-structure",level:3},{value:"The <code>manifest.json</code> file",id:"the-manifestjson-file",level:4},{value:"How to setup the project",id:"how-to-setup-the-project",level:2},{value:"How to run the project",id:"how-to-run-the-project",level:2},{value:"Run the backend in a terminal",id:"run-the-backend-in-a-terminal",level:3},{value:"Run the app in the launcher",id:"run-the-app-in-the-launcher",level:3}],c={toc:l};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"developing-custom-applications"},"Developing Custom Applications"),(0,o.kt)("h3",{id:"create-an-app"},"Create an app"),(0,o.kt)("h4",{id:"create-a-repository-from-the-template"},"Create a repository from the template"),(0,o.kt)("p",null,"To create your own custom application navigate to the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/farm-ng/amiga-app-template"},(0,o.kt)("strong",{parentName:"a"},(0,o.kt)("inlineCode",{parentName:"strong"},"amiga-app-template")))," repository on GitHub."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"You need to be signed into your GitHub account to see the option to ",(0,o.kt)("inlineCode",{parentName:"p"},"Use this template"),".")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/5157099/205272492-356c1540-948e-43dc-8f60-8992caa8d511.gif",alt:"Create a new templated repository"})),(0,o.kt)("p",null,"Written instructions (same as video above):"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Click on green ",(0,o.kt)("em",{parentName:"li"},"Use this template")," button (top right) to create a new repository based on this repo"),(0,o.kt)("li",{parentName:"ol"},"Fill out:",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"- Owner: (your_username)\n- Repository Name: whatever-you-want\n    - Should be between between 4-17 characters, and\n    - Use underscores (_) or dashes (-) for separating words (no spaces!)\n-Select Public box\n-Click [Create repository from template]\n")),"Done!")),(0,o.kt)("p",null,"Now that you are done creating your repository, you have two options:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Work in your local workspace."),(0,o.kt)("li",{parentName:"ol"},"Work in a remote Remote-SSH session using in vs-code.")),(0,o.kt)("p",null,"In both cases you will have to clone the repository you created above by following the commands below."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd <to-your-base-directory>\ngit clone https://github.com/YOUR-USERNAME/YOUR-REPOSITORY.git\n")),(0,o.kt)("h2",{id:"project-structure"},"Project structure"),(0,o.kt)("h3",{id:"understand-the-structure-of-an-app"},"Understand the structure of an app"),(0,o.kt)("p",null,"Every modern app typically consists of two main parts: the backend and the frontend.\nLet's dive into what each of these components does and how they interact with each other."),(0,o.kt)("h4",{id:"backend"},"Backend:"),(0,o.kt)("p",null,'The backend is like the brain of your app. It processes data, makes calculations,\ncommunicates with databases, and performs all the logical operations. When you hear\nterms like "server," "API," or "database," they\'re usually related to the backend.'),(0,o.kt)("p",null,"In our example, we're using FastAPI to build our backend. FastAPI is a modern,\nhigh-performance web framework for building APIs. Coupled with the farm-ng brain services,\nour backend will fetch and serve data efficiently and securely to the frontend."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Key Points:")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Handles data processing, storage, and retrieval."),(0,o.kt)("li",{parentName:"ol"},"Communicates with other services and databases."),(0,o.kt)("li",{parentName:"ol"},"Secures data and ensures only authorized users can access it.")),(0,o.kt)("h4",{id:"frontend"},"Frontend:"),(0,o.kt)("p",null,"The frontend is the part of the app users see and interact with.\nThink of it as the face of your app which includes everything that you can touch, click,\nor interact with: buttons, images, text inputs, animations, and more."),(0,o.kt)("p",null,"For our frontend, we're using ReactJS. ReactJS is a popular JavaScript library for building user interfaces.\nIt allows developers to create responsive and interactive UI components easily."),(0,o.kt)("h3",{id:"repository-structure"},"Repository structure"),(0,o.kt)("p",null,"In vs-code, you can see the project structure on the left side in the ",(0,o.kt)("inlineCode",{parentName:"p"},"EXPLORER"),":"),(0,o.kt)("p",null,"Below are listed the most important components:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"repository-name/  # Root level of the project.\n\u251c\u2500\u2500 ts/ # Contains ReactJS frontend code.\n|   \u251c\u2500\u2500 index.html  # The HTML template of the app frontend.\n|   \u251c\u2500\u2500 package.json  # The file containing the dependencies of the project frontend.\n|   \u2514\u2500\u2500 src/\n|       \u251c\u2500\u2500 components/  # Contains ReactJS components.\n|       |   \u251c\u2500\u2500 TopicMonitor.tsx  # The component that displays the topic monitor.\n|       |   \u2514\u2500\u2500 App.tsx  # The main entry point of the app frontend.\n|       \u2514\u2500\u2500 main.tsx  # The main entry point of the app frontend.\n\u251c\u2500\u2500 main.py\n|   # The main entry point of the app backend.\n\u251c\u2500\u2500 manifest.json\n|   # The file containing the metadata of the project.\n\u251c\u2500\u2500 install.sh\n|   # The script to register the app in the launcher.\n\u251c\u2500\u2500 uninstall.sh\n|   # The script to unregister the app from the launcher.\n\u2514\u2500\u2500 requirements.txt\n    # The file containing the dependencies of the project backend.\n")),(0,o.kt)("h4",{id:"the-manifestjson-file"},"The ",(0,o.kt)("inlineCode",{parentName:"h4"},"manifest.json")," file"),(0,o.kt)("p",null,"In this file, you can find the metadata of the app. This file is used by the launcher\nand has the following structure:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "services": {\n        "example-app": {\n            "type": "app",\n            "python": true,\n            "args": [\n                "main.py --config /opt/farmng/config.json --port 8042"\n            ],\n            "http_gui_port": 8042,\n            "display_name": "Example App"\n        }\n    }\n}\n')),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"For now we just support python apps, and a single app per manifest file.")),(0,o.kt)("h2",{id:"how-to-setup-the-project"},"How to setup the project"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Prepare the frontend and compile the typescript code to javascript")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd ts/\nnpm install  # install dependencies\nnpm run build  # build the frontend\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Prepare the backend")),(0,o.kt)("p",null,"Install the dependencies of the backend"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd ..\npython3 -m venv venv  # create a virtual environment\nsource venv/bin/activate  # activate the virtual environment\npip install -r requirements.txt  # install dependencies\n")),(0,o.kt)("h2",{id:"how-to-run-the-project"},"How to run the project"),(0,o.kt)("h3",{id:"run-the-backend-in-a-terminal"},"Run the backend in a terminal"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"python main.py --config /opt/farmng/config.json\n")),(0,o.kt)("p",null,"Optionally, you can run into debug mode to use the local frontend instead of\nthe one served by the launcher."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"python main.py --config /opt/farmng/config.json --debug\n")),(0,o.kt)("p",null,"To visualize the app in your browser, go to http://localhost:8042"),(0,o.kt)("h3",{id:"run-the-app-in-the-launcher"},"Run the app in the launcher"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Register the app in the launcher")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"./install.sh\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Now you should be able to see the app in the launcher and run it.")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/5157099/279948050-31df3a3f-59f4-47ed-bc6a-cb39d95b07da.png",alt:"app view"})))}u.isMDXComponent=!0}}]);