"use strict";(self.webpackChunkamiga_developers_website=self.webpackChunkamiga_developers_website||[]).push([[2267],{2594:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>c,toc:()=>t});var r=s(5893),l=s(1151);const d={sidebar_label:"farmng_sdo",title:"utils.farmng_sdo"},i=void 0,c={id:"reference/circuitpy/utils/farmng_sdo",title:"utils.farmng_sdo",description:"ReqRepOpIds Objects",source:"@site/docs/reference/circuitpy/utils/farmng_sdo.md",sourceDirName:"reference/circuitpy/utils",slug:"/reference/circuitpy/utils/farmng_sdo",permalink:"/docs/reference/circuitpy/utils/farmng_sdo",draft:!1,unlisted:!1,editUrl:"https://github.com/farm-ng/amiga-dev-kit/tree/main/website/docs/reference/circuitpy/utils/farmng_sdo.md",tags:[],version:"current",frontMatter:{sidebar_label:"farmng_sdo",title:"utils.farmng_sdo"},sidebar:"api",previous:{title:"debug_packet",permalink:"/docs/reference/circuitpy/utils/debug_packet"},next:{title:"general",permalink:"/docs/reference/circuitpy/utils/general"}},a={},t=[{value:"ReqRepOpIds Objects",id:"reqrepopids-objects",level:2},{value:"ReqRepValIds Objects",id:"reqrepvalids-objects",level:2},{value:"V_MAX",id:"v_max",level:4},{value:"MAX_ANG_ACC",id:"max_ang_acc",level:4},{value:"WHEEL_GEAR_RATIO",id:"wheel_gear_ratio",level:4},{value:"WHEEL_RADIUS",id:"wheel_radius",level:4},{value:"PTO_CUR_DEV",id:"pto_cur_dev",level:4},{value:"PTO_CUR_RPM",id:"pto_cur_rpm",level:4},{value:"ReqRepValUnits Objects",id:"reqrepvalunits-objects",level:2},{value:"NA",id:"na",level:4},{value:"M",id:"m",level:4},{value:"MPS",id:"mps",level:4},{value:"RADPS",id:"radps",level:4},{value:"RPM",id:"rpm",level:4},{value:"MS2",id:"ms2",level:4},{value:"RADS2",id:"rads2",level:4},{value:"V",id:"v",level:4},{value:"ReqRepValFmts Objects",id:"reqrepvalfmts-objects",level:2},{value:"unpack_req_rep_value",id:"unpack_req_rep_value",level:4},{value:"FarmngRepReq Objects",id:"farmngrepreq-objects",level:2},{value:"cob_id_req",id:"cob_id_req",level:4},{value:"cob_id_rep",id:"cob_id_rep",level:4},{value:"encode",id:"encode",level:4},{value:"decode",id:"decode",level:4}];function o(e){const n={code:"code",em:"em",h2:"h2",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"reqrepopids-objects",children:"ReqRepOpIds Objects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class ReqRepOpIds()\n"})}),"\n",(0,r.jsx)(n.p,{children:"Operation IDs for request and reply operations."}),"\n",(0,r.jsx)(n.p,{children:"Must be in the range [0, 127] (7 bits)."}),"\n",(0,r.jsx)(n.h2,{id:"reqrepvalids-objects",children:"ReqRepValIds Objects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class ReqRepValIds()\n"})}),"\n",(0,r.jsx)(n.p,{children:"Value IDs for request and reply operations."}),"\n",(0,r.jsx)(n.p,{children:"Must be in the range [0, 2047] (11 bits) because we use 5 bits for encoding units."}),"\n",(0,r.jsx)(n.p,{children:"Some codes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"NP: Not a persistent value (currently)\nThis means it cannot be stored"}),"\n",(0,r.jsx)(n.li,{children:"UN: Not actually used in firmware (currently)\nThis means it cannot be read, written, or stored"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"v_max",children:"V_MAX"}),"\n",(0,r.jsx)(n.p,{children:"NP"}),"\n",(0,r.jsx)(n.h4,{id:"max_ang_acc",children:"MAX_ANG_ACC"}),"\n",(0,r.jsx)(n.p,{children:"max_accel in settings.csv"}),"\n",(0,r.jsx)(n.h4,{id:"wheel_gear_ratio",children:"WHEEL_GEAR_RATIO"}),"\n",(0,r.jsx)(n.p,{children:"NP"}),"\n",(0,r.jsx)(n.h4,{id:"wheel_radius",children:"WHEEL_RADIUS"}),"\n",(0,r.jsx)(n.p,{children:"NP"}),"\n",(0,r.jsx)(n.h4,{id:"pto_cur_dev",children:"PTO_CUR_DEV"}),"\n",(0,r.jsx)(n.p,{children:"NP | Current PTO device to change settings of"}),"\n",(0,r.jsx)(n.h4,{id:"pto_cur_rpm",children:"PTO_CUR_RPM"}),"\n",(0,r.jsx)(n.p,{children:"NP"}),"\n",(0,r.jsx)(n.h2,{id:"reqrepvalunits-objects",children:"ReqRepValUnits Objects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class ReqRepValUnits()\n"})}),"\n",(0,r.jsx)(n.p,{children:"Units for request and reply values."}),"\n",(0,r.jsx)(n.p,{children:"Must be in the range [0, 31] (5 bits). Uses the last 5 bits of the 2 bytes used for ReqRepValIds."}),"\n",(0,r.jsx)(n.h4,{id:"na",children:"NA"}),"\n",(0,r.jsx)(n.p,{children:"Unitless"}),"\n",(0,r.jsx)(n.h4,{id:"m",children:"M"}),"\n",(0,r.jsx)(n.p,{children:"meters"}),"\n",(0,r.jsx)(n.h4,{id:"mps",children:"MPS"}),"\n",(0,r.jsx)(n.p,{children:"m/s"}),"\n",(0,r.jsx)(n.h4,{id:"radps",children:"RADPS"}),"\n",(0,r.jsx)(n.p,{children:"rad / s"}),"\n",(0,r.jsx)(n.h4,{id:"rpm",children:"RPM"}),"\n",(0,r.jsx)(n.p,{children:"rpm"}),"\n",(0,r.jsx)(n.h4,{id:"ms2",children:"MS2"}),"\n",(0,r.jsx)(n.p,{children:"m / s^2"}),"\n",(0,r.jsx)(n.h4,{id:"rads2",children:"RADS2"}),"\n",(0,r.jsx)(n.p,{children:"rad / s^2"}),"\n",(0,r.jsx)(n.h4,{id:"v",children:"V"}),"\n",(0,r.jsx)(n.p,{children:"volts"}),"\n",(0,r.jsx)(n.h2,{id:"reqrepvalfmts-objects",children:"ReqRepValFmts Objects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class ReqRepValFmts()\n"})}),"\n",(0,r.jsx)(n.p,{children:"Data formats for request and reply values."}),"\n",(0,r.jsx)(n.h4,{id:"unpack_req_rep_value",children:"unpack_req_rep_value"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def unpack_req_rep_value(val_id: ReqRepValIds, payload: bytes)\n"})}),"\n",(0,r.jsx)(n.p,{children:"Unpacks the request/reply value from the given payload based on the value ID."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"val_id"})," ",(0,r.jsx)(n.em,{children:"ReqRepValIds"})," - The value ID."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"payload"})," ",(0,r.jsx)(n.em,{children:"bytes"})," - The payload to unpack."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,r.jsx)(n.p,{children:"The unpacked value."}),"\n",(0,r.jsx)(n.h2,{id:"farmngrepreq-objects",children:"FarmngRepReq Objects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class FarmngRepReq(Packet)\n"})}),"\n",(0,r.jsx)(n.p,{children:"Supervisor request class, farm-ng parallel to SDO protocol."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Attributes"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cob_id_req"})," ",(0,r.jsx)(n.em,{children:"int"})," - SDO command ID."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cob_id_rep"})," ",(0,r.jsx)(n.em,{children:"int"})," - SDO reply ID."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"format"})," ",(0,r.jsx)(n.em,{children:"str"})," - The data format."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"cob_id_req",children:"cob_id_req"}),"\n",(0,r.jsx)(n.p,{children:"SDO command id"}),"\n",(0,r.jsx)(n.h4,{id:"cob_id_rep",children:"cob_id_rep"}),"\n",(0,r.jsx)(n.p,{children:"SDO reply id"}),"\n",(0,r.jsx)(n.h4,{id:"encode",children:"encode"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def encode()\n"})}),"\n",(0,r.jsx)(n.p,{children:"Encodes the data contained by the class as CAN message data."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"bytes"})," - The encoded CAN message data."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"decode",children:"decode"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def decode(data)\n"})}),"\n",(0,r.jsx)(n.p,{children:"Decodes CAN message data and populates the values of the class."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data"})," ",(0,r.jsx)(n.em,{children:"bytes"})," - The CAN message data to decode."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>i});var r=s(7294);const l={},d=r.createContext(l);function i(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);